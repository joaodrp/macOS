[alias]
	# View abbreviated SHA, description, and history graph of the latest 20 commits.
	l = log --pretty=oneline -n 20 --graph --abbrev-commit
	# View the current working tree status using the short format.
	s = status -s
	# Show the diff between the latest commit and the current state.
	d = !"git diff-index --quiet HEAD -- || clear; git --no-pager diff --patch-with-stat"
	# Switch to a branch, creating it if necessary.
	go = "!f() { git checkout -b \"$1\" 2> /dev/null || git checkout \"$1\"; }; f"
	# List aliases.
	aliases = config --get-regexp alias
	# Amend the currently staged files to the latest commit.
	amend = commit --amend --reuse-message=HEAD
	# Interactive rebase with the given number of latest commits.
	reb = "!r() { git rebase -i HEAD~$1; }; r"
	# Remove branches that have already been merged with main.
	dm = "!git branch --merged | grep -v '\\*' | xargs -n 1 git branch -d"
	# List contributors with number of commits.
	contributors = shortlog --summary --numbered
	# Show the user email for the current repository.
	whoami = config user.email
	# Reset permission changes
	permission-reset = !git diff -p -R --no-ext-diff --no-color | grep -E \"^(diff|(old|new) mode)\" --color=never | git apply
	# Stash changes but keep them visible
	stash-keep = "!git stash store $(git stash create)"
[branch]
	# Show most recently changed branches first.
	sort = -committerdate
[apply]
	# Detect whitespace errors when applying a patch.
	whitespace = fix
[core]
	# Use OpenSSH for git operations (ensures 1Password agent is used)
	sshCommand = /usr/bin/ssh
	pager = delta
	whitespace=fix,-indent-with-non-tab,trailing-space,cr-at-eol
	editor = nvim
	# Don't escape non-ASCII characters in paths
	quotepath = false
	excludesfile = ~/.gitignore
	hooksPath = ~/.config/git/hooks
[include]
	# Local config (personal email, machine-specific settings)
    path = .gitconfig.local
[includeIf "gitdir/i:github.com/"]
	# GitHub-specific config (noreply email)
    path = .gitconfig-github
[user]
	name = Jo√£o Pereira
	# SSH key for commit signing (1Password)
	signingkey = ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDwZ2R/ioFT1WW6J0fUptkefCmhCSOB0n1P1fBLgZPU0
[gpg]
	# Use SSH keys for signing instead of GPG
	format = ssh
[gpg "ssh"]
	# 1Password handles SSH signing
	program = /Applications/1Password.app/Contents/MacOS/op-ssh-sign
	# Allowed signers for local signature verification (see README)
	allowedSignersFile = ~/.config/git/allowed_signers
[commit]
	# Sign all commits
	gpgsign = true
[diff]
	# Detect copies as well as renames.
	renames = copies
	# Better diff algorithm
	algorithm = histogram
[diff "bin"]
	# Use `hexdump` to diff binary files.
	textconv = hexdump -v -C
[push]
	# Push to branch with same name on remote
	default = current
	# Automatically set upstream on first push
	autoSetupRemote = true
[pull]
	# Rebase instead of merge when pulling
	rebase = true
[help]
	# Automatically correct and execute mistyped commands.
	autocorrect = prompt
[merge]
	# Include summaries of merged commits in newly created merge commit messages
	log = true
	# Better conflict markers showing base, ours, and theirs
	conflictStyle = zdiff3
[fetch]
	# Auto-prune deleted remote branches
	prune = true
[rebase]
	# Auto-squash fixup/squash commits
	autoSquash = true
	# Auto-stash before rebase
	autoStash = true
[rerere]
	# Remember conflict resolutions
	enabled = true
[interactive]
	# Use delta for interactive diffs (git add -p)
	diffFilter = delta --color-only
[delta]
	# Enable n/N navigation between diff sections
	navigate = true
	line-numbers = true
	syntax-theme = gruvbox-dark
[color]
	ui = true
[color "diff"]
	meta = 11
	frag = magenta bold
	func = 146 bold
	commit = yellow bold
	old = red bold
	new = green bold
	whitespace = red reverse
[init]
	# Default branch name for new repositories
	defaultBranch = main
