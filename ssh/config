# Machine-specific overrides (not tracked in git)
Include config.local

Host *
  # Use 1Password SSH agent (override in config.local for GPG/YubiKey)
  IdentityAgent ~/.1password/agent.sock
  AddKeysToAgent yes

  # Keep connections alive
  ServerAliveInterval 60
  ServerAliveCountMax 3

  # Connection multiplexing (reuse connections for faster subsequent sessions)
  ControlMaster auto
  ControlPath ~/.ssh/sockets/%r@%h-%p
  ControlPersist 600
